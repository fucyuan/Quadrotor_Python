import numpy as np

def crazyflie():
    """
    返回 Crazyflie 2.0 四旋翼飞行器的物理参数。
    
    参数基于物理测量，包括：
    - 电机、支架和 Vicon 标记的质量点
    - 从中心到质量点的臂长
    - 电池组和主板组合成一个立方体，具有指定的尺寸和质量
    
    返回值：
    params : 一个包含 Crazyflie 参数的字典，包括质量、惯性矩阵、臂长、最大角度、最大推力和最小推力等。
    """

    # 质量（kg），包括 5 个 Vicon 标记（每个约 0.25g）
    m = 0.030

    # 重力加速度（m/s^2）
    g = 9.81

    # 惯性矩阵（kg·m^2），表示四旋翼的惯性张量
    I = np.array([[1.43e-5, 0, 0],    # 绕 x 轴的惯性
                  [0, 1.43e-5, 0],    # 绕 y 轴的惯性
                  [0, 0, 2.89e-5]])   # 绕 z 轴的惯性

    # 臂长（m），从中心到电机的距离
    L = 0.046

    # 创建包含所有参数的字典
    params = {
        'mass': m,                          # 四旋翼的质量
        'I': I,                             # 惯性矩阵
        'invI': np.linalg.inv(I),           # 惯性矩阵的逆矩阵
        'grav': g,                          # 重力加速度
        'arm_length': L,                    # 四旋翼臂长
        'maxangle': 40 * np.pi / 180,       # 最大允许的倾斜角度（弧度）
        'maxF': 2.5 * m * g,                # 最大推力
        'minF': 0.05 * m * g                # 最小推力
    }

    # 返回包含 Crazyflie 参数的字典
    return params
